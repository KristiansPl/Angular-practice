<div class="container-fluid">
    <h2 class="title">Login form</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" *ngIf="!submitted">
        <div class="form-group">
            <label>Username</label>
            <input [class.is-invalid]="userName.invalid && 
            userName.touched" formControlName="userName" type="text" class="form-control">

            <div *ngIf="userName.invalid && userName.touched">
                <small class="text-danger" *ngIf="userName.errors?.['required']">Username is required!</small>
                <small class="text-danger" *ngIf="userName.errors?.['minlength']">Username must be atleast 4 characters!</small>
                <small class="text-danger" *ngIf="userName.errors?.['forbiddenName']">Username cannot contain 'admin'!</small>
            </div>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input formControlName="password" type="password" class="form-control">

            <div *ngIf="password.touched && password.invalid">
                <small class="text-danger" *ngIf="password.errors?.['required']">Password is required!</small>
                <small class="text-danger" *ngIf="password.errors?.['minlength'] || password.errors?.['maxlength']">Password should be between 8-64 characters long!</small>
            </div>
        </div>

        <div class="form-group form-check mb-3">
            <label>Do you want a popup?</label>
            <input formControlName="popup" type="checkbox" class="form-check-input">
        </div>

        <hr>
        <button mat-button [disabled]="loginForm.invalid" class="btn btn-primary" type="submit">Register</button>
        <button mat-button (click)="loadApiData()" class="btn btn-secondary ml-2 float-end" type="button">Load API data</button>
        <hr>
    </form>
</div>

